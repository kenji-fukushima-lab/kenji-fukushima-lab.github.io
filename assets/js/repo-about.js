(()=>{const t=document.querySelectorAll(".repo-compact-about[data-repo-about]");if(!t.length)return;const e=new Map,o=new Map;for(const n of t){const t=(n.dataset.repoAbout||"").trim();if(!t)continue;e.has(t)||e.set(t,[]);const s=(n.dataset.repoAboutDefault||"").trim();s&&!o.has(t)&&o.set(t,s),n.classList.add("is-loading"),e.get(t).push(n)}const n=(t,o)=>{const n=(o||"").trim(),s=e.get(t)||[];for(const t of s)t.classList.remove("is-loading"),n?(t.textContent=n,t.classList.remove("is-empty"),t.title=n):(t.textContent="",t.classList.add("is-empty"),t.removeAttribute("title"))},s=t=>{try{const e=window.localStorage.getItem(`repo-about:${t}`);if(!e)return null;const o=JSON.parse(e);return o&&"object"==typeof o?"number"!=typeof o.exp||Date.now()>o.exp?null:"string"==typeof o.text?o.text:"":null}catch(t){return null}},r=(t,e)=>{try{const o={text:e||"",exp:Date.now()+864e5};window.localStorage.setItem(`repo-about:${t}`,JSON.stringify(o))}catch(t){}},c={Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"};for(const t of e.keys()){const e=o.get(t)||"";e&&n(t,e);const i=s(t);null===i?e||fetch(`https://api.github.com/repos/${t}`,{headers:c}).then(t=>{if(!t.ok)throw new Error(`GitHub API returned ${t.status}`);return t.json()}).then(e=>{const o=e&&"string"==typeof e.description?e.description:"";r(t,o),n(t,o)}).catch(()=>{n(t,e)}):n(t,i)}})();