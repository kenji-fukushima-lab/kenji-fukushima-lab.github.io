{% assign repo_parts = include.repository | split: '/' %}
{% assign username = repo_parts.first %}
{% assign repo_name = repo_parts.last %}
{% assign fallback_about = site.data.repo_about[include.repository] | default: '' %}

<div class="repo repo-compact">
  <div class="repo-compact-main">
    <a
      class="repo-compact-title external-link-track"
      href="https://github.com/{{ include.repository }}"
      rel="external nofollow noopener noreferrer"
      target="_blank"
      aria-label="Open {{ include.repository }} on GitHub"
      data-analytics-label="repository_home"
    >
      <svg height="20" width="20" viewBox="0 0 16 16" fill="var(--global-theme-color)" aria-hidden="true">
        <path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"></path>
      </svg>
      <span class="repo-compact-name">{{ username }}/{{ repo_name }}</span>
    </a>
    <span
      class="repo-compact-about{% if fallback_about == '' %} is-empty{% endif %}"
      data-repo-about="{{ include.repository }}"
      data-repo-about-default="{{ fallback_about | escape }}"
      {% if fallback_about != '' %}
        title="{{ fallback_about }}"
      {% endif %}
      aria-live="polite"
    >
      {{ fallback_about }}
    </span>
  </div>

  <div class="repo-compact-badges">
    <a
      href="https://github.com/{{ include.repository }}/stargazers"
      rel="external nofollow noopener noreferrer"
      target="_blank"
      class="external-link-track"
      aria-label="Open stargazers for {{ include.repository }}"
      data-analytics-label="repository_stargazers"
    >
      <img
        alt="GitHub stars"
        src="https://img.shields.io/github/stars/{{ include.repository }}?style=social"
        loading="lazy"
        decoding="async"
        width="86"
        height="20"
      >
    </a>
    <a
      href="https://github.com/{{ include.repository }}/network/members"
      rel="external nofollow noopener noreferrer"
      target="_blank"
      class="external-link-track"
      aria-label="Open forks for {{ include.repository }}"
      data-analytics-label="repository_forks"
    >
      <img
        alt="GitHub forks"
        src="https://img.shields.io/github/forks/{{ include.repository }}?style=social"
        loading="lazy"
        decoding="async"
        width="84"
        height="20"
      >
    </a>
    <a
      href="https://github.com/{{ include.repository }}/commits/main"
      rel="external nofollow noopener noreferrer"
      target="_blank"
      class="external-link-track"
      aria-label="Open commit history for {{ include.repository }}"
      data-analytics-label="repository_commits"
    >
      <img
        alt="Last commit"
        src="https://img.shields.io/github/last-commit/{{ include.repository }}?branch=main&style=flat-square"
        loading="lazy"
        decoding="async"
        width="112"
        height="20"
      >
    </a>
    <a
      href="https://github.com/{{ include.repository }}/issues"
      rel="external nofollow noopener noreferrer"
      target="_blank"
      class="external-link-track"
      aria-label="Open issues for {{ include.repository }}"
      data-analytics-label="repository_issues"
    >
      <img
        alt="Issues"
        src="https://img.shields.io/github/issues/{{ include.repository }}?style=flat-square"
        loading="lazy"
        decoding="async"
        width="82"
        height="20"
      >
    </a>
  </div>
</div>
